(this["webpackJsonpneurobody-portal"]=this["webpackJsonpneurobody-portal"]||[]).push([[0],{106:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(10),o=t.n(r),i=(t(83),t(70)),s=t(12),l=t(9),u=t(138),m=t(143),d=t(144),f=t(145),g=t(153),p=t(151),b=t(146),h=t(147),E=t(148),v=t(71),j=Object(v.a)({typography:{useNexVariants:!0},palette:{common:{black:"rgba(0, 0, 0, 1)",white:"#fff"},background:{paper:"#fff",default:"#fafafa"},primary:{light:"rgba(62, 53, 84, 1)",main:"rgba(35, 30, 48, 1)",dark:"rgba(13, 11, 18, 1)",contrastText:"#fff"},secondary:{light:"rgba(253, 152, 110, 1)",main:"rgba(255, 121, 66, 1)",dark:"rgba(253, 88, 22, 1)",contrastText:"#fff"},error:{light:"#e57373",main:"#f44336",dark:"#d32f2f",contrastText:"#fff"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"}}}),O=t(139),y=t(142),k=function(e){return c.a.createElement(u.a,{theme:j},c.a.createElement(O.a,{position:"static"},c.a.createElement(y.a,null,e.title?c.a.createElement("h1",null,e.title):c.a.createElement("h1",null,"Neurobody"))))},x=(Object(m.a)((function(e){return{}})),t(68)),S=t.n(x),C=t(22),T=t.n(C),w="AIzaSyAcU3pPUOEF230XdYdpoU4bMzY-HBGd1Eo",I="https://neurobody-8463e.firebaseio.com",N=Object(m.a)((function(e){return{containerSpace:{marginTop:20},inputField:{width:"80%",marginTop:20},error:{color:"red"}}})),A=function(e){var a=Object(n.useState)(""),t=Object(l.a)(a,2),r=t[0],o=t[1],i=Object(n.useState)(""),s=Object(l.a)(i,2),m=s[0],v=s[1],O=Object(n.useState)(null),y=Object(l.a)(O,2),x=y[0],C=y[1],A=Object(n.useState)(!1),P=Object(l.a)(A,2),D=P[0],M=P[1],R=function(){if(localStorage.getItem("token")){var a=localStorage.getItem("tokenExpiry");a&&(a>(new Date).getMilliseconds()?e.history.push("/neurobody-portal/exercises"):(localStorage.removeItem("token"),localStorage.removeItem("tokenExpiry"),localStorage.removeItem("userId")))}};Object(n.useEffect)((function(){R()}),[R]);var L=N();return c.a.createElement(u.a,{theme:j},c.a.createElement(k,null),c.a.createElement(d.a,{className:L.containerSpace,container:!0,justify:"center"},c.a.createElement(d.a,{item:!0},c.a.createElement("img",{src:S.a})),c.a.createElement(d.a,{className:L.containerSpace,container:!0,justify:"center"},c.a.createElement(d.a,{item:!0,xs:10,sm:8,lg:6},c.a.createElement(f.a,{style:{textAlign:"center"}},c.a.createElement(g.a,{title:"Authentication",color:"inherit"}),c.a.createElement(d.a,{container:!0,justify:"center"},c.a.createElement(d.a,{item:!0,md:6},c.a.createElement("p",{className:L.error},x))),c.a.createElement(d.a,{container:!0,justify:"center"},c.a.createElement(d.a,{item:!0,md:6},c.a.createElement(p.a,{className:L.inputField,placeholder:"Email Address",autoFocus:!0,type:"email",value:r,onChange:function(e){return o(e.target.value)},size:"medium"}))),c.a.createElement(d.a,{container:!0,justify:"center"},c.a.createElement(d.a,{item:!0,md:6},c.a.createElement(p.a,{className:L.inputField,placeholder:"Password",type:"password",value:m,onChange:function(e){return v(e.target.value)},size:"medium"}))),c.a.createElement(d.a,{className:L.containerSpace,container:!0,justify:"center"},c.a.createElement(d.a,{item:!0,md:6},D?c.a.createElement(b.a,null):c.a.createElement(h.a,{onClick:function(){M(!0),C(null);var a=function(e,a){var t={valid:!0,message:""};return a.length<8&&(t.valid=!1,t.message="Please enter a valid password."),0===a.length&&(t.valid=!1,t.message="Please enter a password."),/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())||(t.valid=!1,t.message="Please enter a valid email address"),0===e.length&&(t.valid=!1,t.message="Please enter an email address."),t}(r,m);if(a.valid){var t={email:r,password:m,returnSecureToken:!0};T.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat(w),t).then((function(a){var t=a.data;T.a.get("".concat(I,"/users/").concat(t.localId,".json")).then((function(a){var n=a.data;n.roles&&n.roles.find((function(e){return"admin"===e}))?(localStorage.setItem("token",t.idToken),localStorage.setItem("tokenExpiry",(new Date).getMilliseconds()+t.expiresIn),localStorage.setItem("userId",t.localId),console.log("Success"),e.history.push("/neurobody-portal/exercises")):(M(!1),C("The account you provided does not have the correct permissions."))}))})).catch((function(e){M(!1),C(function(e){switch(e.message){case"EMAIL_NOT_FOUND":return"Email address not found, Please enter a valid email address.";case"INVALID_PASSWORD":return"Password is incorrect.";default:return"Something went wrong! Contact support."}}(e.response.data.error))}))}else M(!1),C(a.message)}},"Login"))),c.a.createElement(E.a,null))))))},P=t(7),D=t(69),M=Object(m.a)((function(e){return{cardContainer:{width:"80%"},actionArea:{border:"1px solid",borderColor:e.palette.primary.main,padding:5,borderRadius:15,width:"100%",marginTop:10,marginBottom:10},title:{marginBottom:3,width:"15%"},button:{marginLeft:10},input:{width:"100%"}}})),R=function(e){var a=M();return c.a.createElement(u.a,{theme:j},c.a.createElement(d.a,{container:!0,alignItems:"center",className:a.actionArea},c.a.createElement(d.a,{item:!0,className:a.title},c.a.createElement("p",null,e.title)),c.a.createElement(d.a,{item:!0,className:a.button},c.a.createElement(h.a,{onClick:function(){return e.onAdd(e.title)}},"Add")),c.a.createElement(d.a,{item:!0,className:a.button},c.a.createElement(h.a,{onClick:function(){return e.onRemove(e.title)}},"Remove"))),c.a.createElement(d.a,{container:!0},e.info.map((function(t,n){return c.a.createElement(d.a,{item:!0,xs:12,key:n},c.a.createElement(p.a,{value:t,onChange:e.onInfoChange.bind(void 0,e.title,n),className:a.input,placeholder:"Enter info here"}))}))))},L=t(152),B=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(L.a,{checked:e.onTagCheck(e.tag),onChange:function(a){return e.onTagChange(a,e.tag)}}),e.tag)},F=Object(m.a)((function(e){return{containerSpace:{marginTop:20},inputField:{width:"80%",marginTop:20},actionButton:{marginLeft:20,marginRight:20},error:{color:"red"}}})),V=function(e){var a=F(),t=Object(n.useState)(""),r=Object(l.a)(t,2),o=r[0],i=r[1],s=Object(n.useState)(""),m=Object(l.a)(s,2),g=m[0],b=m[1],v=Object(n.useState)([]),O=Object(l.a)(v,2),y=O[0],x=O[1],S=Object(n.useState)([]),C=Object(l.a)(S,2),w=C[0],N=C[1],A=Object(n.useState)([]),M=Object(l.a)(A,2),L=M[0],V=M[1],U=Object(n.useState)([]),z=Object(l.a)(U,2),W=z[0],_=z[1],H=Object(n.useState)([]),J=Object(l.a)(H,2),Y=J[0],Z=J[1],$=Object(n.useState)([]),G=Object(l.a)($,2),X=G[0],q=G[1],K=Object(n.useState)([]),Q=Object(l.a)(K,2),ee=Q[0],ae=Q[1],te=Object(n.useState)([]),ne=Object(l.a)(te,2),ce=ne[0],re=ne[1],oe=Object(n.useState)([]),ie=Object(l.a)(oe,2),se=ie[0],le=ie[1],ue=Object(n.useState)([]),me=Object(l.a)(ue,2),de=me[0],fe=me[1],ge=Object(n.useState)(!1),pe=Object(l.a)(ge,2),be=pe[0],he=pe[1],Ee=Object(n.useState)(null),ve=Object(l.a)(Ee,2),je=ve[0],Oe=ve[1];Object(n.useEffect)((function(){var a,t=new URLSearchParams(e.location.search),n="",c=Object(D.a)(t.entries());try{for(c.s();!(a=c.n()).done;){var r=a.value;"tag"===r[0]&&(n=r[1])}}catch(o){c.e(o)}finally{c.f()}""!==n?T.a.get("".concat(I,"/exercises/").concat(n,".json")).then((function(e){console.log(e.data),b(n),e.data.tags&&x(e.data.tags),e.data.ExerciseName&&i(e.data.ExerciseName),e.data.tips.phase1&&N(e.data.tips.phase1),e.data.tips.phase2&&V(e.data.tips.phase2),e.data.tips.phase3&&_(e.data.tips.phase3),e.data.avoids&&Z(e.data.avoids),e.data.engages.primary&&q(e.data.engages.primary),e.data.engages.secondary&&ae(e.data.engages.secondary),e.data.engages.isometric&&re(e.data.engages.isometric),console.log(e.data.variants),e.data.variants&&(e.data.variants.lessDifficult&&le(e.data.variants.lessDifficult),e.data.variants.moreDifficult&&fe(e.data.variants.moreDifficult)),he(!1)})):(console.log("NO FOUND, CREATE ONE"),he(!0)),T.a.get("".concat(I,"/tags.json")).then((function(e){var a={};for(var t in e.data)a[t]=e.data[t];Oe(a)}))}),[]);var ye=function(e,a,t){switch(e){case"Tip(s) Phase 1":var n=Object(P.a)(w);n[a]=t.target.value,N(n);break;case"Tip(s) Phase 2":var c=Object(P.a)(L);c[a]=t.target.value,V(c);break;case"Tip(s) Phase 3":var r=Object(P.a)(W);r[a]=t.target.value,_(r);break;case"Avoid Tip(s)":var o=Object(P.a)(Y);o[a]=t.target.value,Z(o);break;case"Engage Muscle(s) Primary":var i=Object(P.a)(X);i[a]=t.target.value,q(i);break;case"Engage Muscle(s) Secondary":var s=Object(P.a)(ee);s[a]=t.target.value,ae(s);break;case"Engage Muscle(s) Isometric":var l=Object(P.a)(ce);l[a]=t.target.value,re(l);break;case"Less Difficult Variant(s)":var u=Object(P.a)(se);u[a]=t.target.value,le(u);break;case"More Difficult Variant(s)":var m=Object(P.a)(de);m[a]=t.target.value,fe(m)}},ke=function(e){switch(e){case"Tip(s) Phase 1":N((function(e){return[].concat(Object(P.a)(e),[""])}));break;case"Tip(s) Phase 2":V((function(e){return[].concat(Object(P.a)(e),[""])}));break;case"Tip(s) Phase 3":_((function(e){return[].concat(Object(P.a)(e),[""])}));break;case"Avoid Tip(s)":Z((function(e){return[].concat(Object(P.a)(e),[""])}));break;case"Engage Muscle(s) Primary":q((function(e){return[].concat(Object(P.a)(e),[""])}));break;case"Engage Muscle(s) Secondary":ae((function(e){return[].concat(Object(P.a)(e),[""])}));break;case"Engage Muscle(s) Isometric":re((function(e){return[].concat(Object(P.a)(e),[""])}));break;case"Less Difficult Variant(s)":le((function(e){return[].concat(Object(P.a)(e),[""])}));break;case"More Difficult Variant(s)":fe((function(e){return[].concat(Object(P.a)(e),[""])}))}},xe=function(e){switch(e){case"Tip(s) Phase 1":if(w.length>0){var a=Object(P.a)(w);a.pop(),N(a)}break;case"Tip(s) Phase 2":if(L.length>0){var t=Object(P.a)(L);t.pop(),V(t)}break;case"Tip(s) Phase 3":if(W.length>0){var n=Object(P.a)(W);n.pop(),_(n)}break;case"Avoid Tip(s)":if(Y.length>0){var c=Object(P.a)(Y);c.pop(),Z(c)}break;case"Engage Muscle(s) Primary":if(X.length>0){var r=Object(P.a)(X);r.pop(),q(r)}break;case"Engage Muscle(s) Secondary":if(ee.length>0){var o=Object(P.a)(ee);o.pop(),ae(o)}break;case"Engage Muscle(s) Isometric":if(ce.length>0){var i=Object(P.a)(ce);i.pop(),re(i)}break;case"Less Difficult Variant(s)":if(se.length>0){var s=Object(P.a)(se);s.pop(),le(s)}break;case"More Difficult Variant(s)":if(de.length>0){var l=Object(P.a)(de);l.pop(),fe(l)}}},Se=function(e){return y.includes(e)},Ce=function(e,a){var t=e.target.checked,n=Object(P.a)(y),c=n.includes(a);t&&!c?n.push(a):!t&&c&&(n=n.filter((function(e){return e!==a}))),console.log(n),x(n)};return c.a.createElement(u.a,{theme:j},c.a.createElement(k,{title:"Exercise Detail"}),c.a.createElement(d.a,{className:a.containerSpace,container:!0,justify:"center"},c.a.createElement(d.a,{item:!0,xs:10},c.a.createElement(f.a,null,c.a.createElement(E.a,null,c.a.createElement(d.a,{className:a.containerSpace,container:!0,justify:"center"},c.a.createElement(d.a,{item:!0,className:a.actionButton},c.a.createElement(h.a,{onClick:function(){e.history.push("/neurobody-portal/exercises")}},"Back To Library")),c.a.createElement(d.a,{item:!0,className:a.actionButton},c.a.createElement(h.a,{onClick:function(){return function(){var a={ExerciseName:o,tags:y,tips:{phase1:w,phase2:L,phase3:W},avoids:Y,engages:{primary:X,secondary:ee,isometric:ce},variants:{lessDifficult:se,moreDifficult:de}};T.a.put("".concat(I,"/exercises/").concat(g,".json"),a).then((function(a){console.log(a),e.history.push("/neurobody-portal/exercises")}))}()}},be?"Create Exercise":"Update Exercise")),!be&&c.a.createElement(d.a,{item:!0,className:a.actionButton},c.a.createElement(h.a,{onClick:function(){T.a.delete("".concat(I,"/exercises/").concat(g,".json")).then((function(a){console.log(a),e.history.push("/neurobody-portal/exercises")}))}},"Delete Exercise"))),c.a.createElement(d.a,{className:a.containerSpace,container:!0,justify:"center"},c.a.createElement(d.a,{container:!0,justify:"center"},c.a.createElement(d.a,{item:!0,xs:4},c.a.createElement(p.a,{placeholder:"Exercise Tag",value:g,onChange:function(e){b(e.target.value)},disabled:!be})),c.a.createElement(d.a,{item:!0,xs:4},c.a.createElement(p.a,{placeholder:"Exercise Name",value:o,onChange:function(e){i(e.target.value)}}))),c.a.createElement(d.a,{className:a.containerSpace,container:!0,justify:"center"},je&&Object.keys(je).map((function(e){return c.a.createElement(d.a,{item:!0,lg:12,key:e},c.a.createElement("h3",null,e,":"),je[e].map((function(e){return c.a.createElement(B,{tag:e,onTagCheck:Se,onTagChange:Ce,key:e})})))}))),c.a.createElement(R,{title:"Tip(s) Phase 1",onAdd:ke,onRemove:xe,onInfoChange:ye,info:w}),c.a.createElement(R,{title:"Tip(s) Phase 2",onAdd:ke,onRemove:xe,onInfoChange:ye,info:L}),c.a.createElement(R,{title:"Tip(s) Phase 3",onAdd:ke,onRemove:xe,onInfoChange:ye,info:W}),c.a.createElement(R,{title:"Avoid Tip(s)",onAdd:ke,onRemove:xe,onInfoChange:ye,info:Y}),c.a.createElement(R,{title:"Engage Muscle(s) Primary",onAdd:ke,onRemove:xe,onInfoChange:ye,info:X}),c.a.createElement(R,{title:"Engage Muscle(s) Secondary",onAdd:ke,onRemove:xe,onInfoChange:ye,info:ee}),c.a.createElement(R,{title:"Engage Muscle(s) Isometric",onAdd:ke,onRemove:xe,onInfoChange:ye,info:ce}),c.a.createElement(R,{title:"Less Difficult Variant(s)",onAdd:ke,onRemove:xe,onInfoChange:ye,info:se}),c.a.createElement(R,{title:"More Difficult Variant(s)",onAdd:ke,onRemove:xe,onInfoChange:ye,info:de})))))))},U=t(51),z=t(149),W=t(150),_=Object(m.a)((function(e){return{cardContainer:{width:"80%",borderColor:e.palette.primary,border:"1px solid",borderRadius:20}}})),H=function(e){var a=_();return c.a.createElement(u.a,{theme:j},c.a.createElement(f.a,{className:a.cardContainer},c.a.createElement(E.a,null,c.a.createElement("h4",null,e.exercise.id),c.a.createElement("h3",null,e.exercise.ExerciseName),c.a.createElement(h.a,{onClick:function(){return e.onSelect(e.exercise.id)}},"Details"))))},J=(Object(m.a)((function(e){return{cardContainer:{width:"100%"}}})),function(e){var a=Object(n.useState)(null),t=Object(l.a)(a,2),r=t[0],o=t[1],i=Object(n.useState)(null),s=Object(l.a)(i,2),m=s[0],f=s[1],g=Object(n.useState)(null),b=Object(l.a)(g,2),E=b[0],v=b[1],O=Object(n.useState)([]),y=Object(l.a)(O,2),x=y[0],S=y[1],C=Object(n.useState)(""),w=Object(l.a)(C,2),N=w[0],A=w[1];Object(n.useEffect)((function(){T.a.get("".concat(I,"/exercises.json")).then((function(e){var a=[];for(var t in e.data)a.push(Object(U.a)(Object(U.a)({},e.data[t]),{},{id:t}));o(a),f(a)})),T.a.get("".concat(I,"/tags.json")).then((function(e){var a={};for(var t in e.data)a[t]=e.data[t];v(a)}))}),[]),Object(n.useEffect)((function(){R()}),[x,N]);var D=function(a){var t=encodeURIComponent("tag"),n=encodeURIComponent(a);e.history.push("/neurobody-portal"+"/exercise?".concat(t,"=").concat(n))},M=function(e,a){var t=e.target.checked,n=Object(P.a)(x),c=n.includes(a);t&&!c?n.push(a):!t&&c&&(n=n.filter((function(e){return e!==a}))),S(n)},R=function(){if(r){var e=Object(P.a)(r);if(console.log(x),x.length<=0&&""===N)f(e);else{var a=[];e.forEach((function(e){var t=0;x.length>0?(x.forEach((function(a){e.tags&&e.tags.includes(a)&&(""===N||e.ExerciseName.includes(N))&&(t++,e.tagCount=t)})),t>0&&a.push(e)):(console.log(e.ExerciseName),e.ExerciseName.toLowerCase().includes(N.toLowerCase())&&a.push(e))})),console.log(a),a.sort((function(e,a){return a.tagCount-e.tagCount})),f([].concat(a))}}},L=function(e){return x.includes(e)};return c.a.createElement(u.a,{theme:j},c.a.createElement(k,{title:"Exercise Library"}),c.a.createElement(d.a,{container:!0,justify:"center"},c.a.createElement(d.a,{item:!0,lg:10},c.a.createElement(h.a,{onClick:function(){e.history.push("/neurobody-portal/exercise")}},"Add Exercise"),c.a.createElement(h.a,{onClick:function(){S([]),A("")}},"Clear Filters"),c.a.createElement(p.a,{style:{marginLeft:"20px"},placeholder:"Search By Name",value:N,onChange:function(e){var a=e.target.value;A(a)}}))),c.a.createElement(d.a,{container:!0,justify:"center"},E&&Object.keys(E).map((function(e){return c.a.createElement(d.a,{item:!0,lg:5,key:e},c.a.createElement("h3",null,e,":"),E[e].map((function(e){return c.a.createElement(B,{tag:e,onTagCheck:L,onTagChange:M,key:e})})))}))),c.a.createElement(d.a,{container:!0,justify:"center"},c.a.createElement(d.a,{item:!0,lg:10},m&&c.a.createElement(z.a,{cellHeight:"auto",spacing:20,cols:3},m.map((function(e){return c.a.createElement(W.a,{key:e.id,cols:1},c.a.createElement(H,{exercise:e,onSelect:D}))}))))))}),Y=function(){return c.a.createElement(i.a,null,c.a.createElement(s.c,null,c.a.createElement(s.a,{exact:!0,path:"/neurobody-portal/",component:A}),c.a.createElement(s.a,{exact:!0,path:"/neurobody-portal/exercises",component:J}),c.a.createElement(s.a,{exact:!0,path:"/neurobody-portal/exercise",component:V})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},68:function(e,a,t){e.exports=t.p+"static/media/neuroOrangeLogo.b723508c.png"},78:function(e,a,t){e.exports=t(106)},83:function(e,a,t){}},[[78,1,2]]]);
//# sourceMappingURL=main.2e0fbd7e.chunk.js.map